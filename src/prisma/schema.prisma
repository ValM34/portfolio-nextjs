generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider          = "mysql"
  url               = env("DATABASE_URL")
  shadowDatabaseUrl = env("SHADOW_DATABASE_URL")
}

model User {
  id        Int       @id @default(autoincrement())
  email     String?   @unique
  password  String?
  createdAt DateTime? @default(now())
  updatedAt DateTime? @updatedAt
}

model BlogPost {
  id          Int       @id @default(autoincrement())
  name        String?
  post        Json?
  createdAt   DateTime? @default(now())
  updatedAt   DateTime? @updatedAt
}

model Project {
  id                      Int       @id @default(autoincrement())
  name                    String?
  createdAt               DateTime? @default(now())
  updatedAt               DateTime? @updatedAt
  github                  String?
  siteUrl                 String?
  description             Json?
  imageSrc                String?
  yearOfProduction        DateTime?
  projectPresentationUrl  String?
  projectPresentationName String?
  projectPresentationPost Json?

  technologies TechnologiesOnProjects[]
}

model Technology {
  id        Int       @id @default(autoincrement())
  name      String?   @unique
  createdAt DateTime? @default(now())
  updatedAt DateTime? @updatedAt

  projects TechnologiesOnProjects[]
}

model TechnologiesOnProjects {
  project      Project    @relation(fields: [projectId], references: [id])
  projectId    Int // relation scalar field (used in the `@relation` attribute above)
  technology   Technology @relation(fields: [technologyId], references: [id])
  technologyId Int // relation scalar field (used in the `@relation` attribute above)
  assignedAt   DateTime   @default(now())
  assignedBy   String

  @@id([projectId, technologyId])
}
